"""
10799. 쇠막대기

1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6
( ( ( ( ) ( ) ) ( ( ) ) ( ) ) )
       |   |       |     |
>------|---|-------|-----|----(1)
  >----|---|-------|-----|-(1)
    >--|---|-1  >--|--1  |
      (3) (3)     (3)   (2)

= 3 + 3 + 1 + 3 + 1 + 2 + 1 + 1


( ) ( ( ( ( ) ( ) ) ( ( ) ) ( ) ) ) ( ( ) )
 |  >------|---|-------|-----|----1 >--|--1
 |    >----|---|-------|-----|--1      |
 |      >--|---|-1  >--|--1  |         |
(0)       (3) (3)     (3)   (2)       (1)

= 0 + 3 + 3 + 1 + 3 + 1 + 2 + 1 + 1 + 1 + 1 = 17
"""
from sys import stdin

t: str = stdin.readline()
stk: list = []
ans: int = 0

for i in range(len(t)):
    if t[i] == '(':
        stk.append(t[i])
    elif t[i] == ')':
        if stk.pop() == '(':
            ans += len(stk) if t[i-1] == '(' else 1
print(ans)
